; load a CSV file
@1 = "../sample_csv/small_prices.csv"
$1 = {Sv, DAv, f64v, f64v, f64v, f64v, i64v}
load @1 $1 %1
repr %1 $1 %2
write %2

;;                                                      
;;  AAPL 2017-01-03 115.80 116.33 114.76 116.15 28781865
;;  AAPL 2017-01-04 115.85 116.51 115.75 116.02 21118116
;;  AAPL 2017-01-05 115.92 116.86 115.81 116.61 22193587
;;  AAPL 2017-01-06 116.78 118.16 116.47 117.91 31751900
;;  AAPL 2017-01-09 117.95 119.43 117.94 118.99 33561948
;;  AAPL 2017-01-10 118.77 119.38 118.30 119.11 24462051
;;  AAPL 2017-01-11 118.74 119.93 118.60 119.75 27588593
;; BRK.B 2017-01-03 164.34 164.71 162.44 163.83  4090967
;; BRK.B 2017-01-04 164.45 164.57 163.00 164.08  3568919
;; BRK.B 2017-01-05 164.06 164.14 162.18 163.30  2982464
;; BRK.B 2017-01-06 163.44 163.80 162.64 163.41  2697027
;; BRK.B 2017-01-09 163.04 163.25 162.02 162.02  3564674
;; BRK.B 2017-01-10 162.00 162.74 161.41 161.47  2671259
;; BRK.B 2017-01-11 161.54 162.45 161.03 162.23  3305859
;;  EBAY 2017-01-03  29.83  30.19  29.64  29.84  7665031
;;  EBAY 2017-01-04  29.91  30.01  29.51  29.76  9538779
;;  EBAY 2017-01-05  29.73  30.08  29.61  30.01  9062195
;;  EBAY 2017-01-06  29.97  31.16  29.78  31.05 13351423
;;  EBAY 2017-01-09  31.00  31.03  30.60  30.75 10532655
;;  EBAY 2017-01-10  30.67  30.72  29.84  30.25 13833143
;;  EBAY 2017-01-11  30.30  30.42  30.01  30.41  8168999

; sum the first floating-point column
member %1 2 %3
sum_f64v %3 %4
repr %4 f64s %5
write %5

;;2174.09
